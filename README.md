# electronics_store
Приложение розничной сети состоящая из 3-ёх уровней иерархии.

> [!NOTE]
> Важно при создании нового звена цепи, надо указать <Уровень звена сети> (UnionChain.level_union) и сохранить этот объект. Для отображении в поле <Поставщик от звена сети> (UnionChain.supplier) поставщиков и выбрать поставщика.

<details>

<summary>Данный проект содержит в себе 2 приложения:</summary>

* **retail**
   - позволяет работать с привычками
       - Contact(адрес звена цепи)
       - Product(произведенный продукт звеном цепи)
       - UnionChain(звено цепи с опеределением уровня в иерархии)
* **users**
   - служит для аунтификации пользователя 
       - содержит модели User 
</details>

<details>

<summary>Что делает приложение?</summary>
Функционал:

* Регистрация пользователя, получение токена и использование в запросах Bearar-токена
* Можно добавлять, изменять, смотреть и удалять звено цепи, кроме поля UnionChain.debt, но только в REST API Django.
* Только активные пользователи могут использовать API. Делается за счет выдачи Bearer-токена, т.е. проверка состояние пользователя.
* Можно фильтровать по городу, обнулить задолжность и имеется ссылка на поставщика в Админ-панели Django
* Автоматичекое обновление уровня в розничной сети по отношению к поставщику.
* Выбрать поставщика можно лишь из нижнего уровня по иеррархии, и только они доступны, кроме связи Завод-Завод
</details>

> [!IMPORTANT]
> Добавлен файл https://github.com/Plutarxi99/mailing_list/blob/main/.env.sample (для использования надо привести к ввиду **<.env>**) с помощью, которого можно настроить работу проекта. В нем лежат настройки (далее идут примеры заполнения полей):
<details>
<summary>Настройки, которые надо установить для работы приложения</summary>

| Значение | Содержание | Примечание |
|-----|-----------|-----:|
|     **SECRET_KEY**| django-insecure-hu213gr51uh234gbrtf34oqufg35835g3q5g       |     код генерируется автоматически при создании приложения|
|     **POSTGRES_DB**| NAME_BD   |     название базы данных |
|     **POSTGRES_USER**| USER_BD   |     название пользователя базы данных |
|     **POSTGRES_PASSWORD**| PASSWORD_BD   |     пароль базы данных |
|     **POSTGRES_HOST**| HOST_BD   |     название твоего сервиса используемый для контейнеризации |
|     **SUPERUSER_EMAIL**| email_superuser       |     установить почту суперюзера|
|     **SUPERUSER_PASSWORD**| password_superuser       |     установить пароль суперюзера|
</details>

<details>

<summary>Как использовать?</summary>

* Копируем код с git:
  <pre><code>git clone <URL on GIT></code></pre>
  
* Создаем виртуальное окружение:
  <pre><code>python3 -m venv env</code></pre>
  <pre><code>source env/bin/activate</code></pre>

* После установки нужных настроук в файле **<.env>**. Надо выполнить команду для установки пакетов:
  <pre><code>pip install -r requirements.txt </code></pre>

* Применить миграции:
  <pre><code>python3 manage.py migrate</code></pre>

* Создать суперюзера:
  <pre><code>python3 manage.py ccsu</code></pre>

* Заполнить базу данных, готовыми данными:
  <pre><code>python3 manage.py loaddata retail.json </code></pre>

</details>

<details>

<summary>Что использовалось в приложение?</summary>
Функционал:

* Подключено rest_framework для использоваеть API приложения
* Подключено rest_framework_simplejwt для использоваеть API приложения авторизации пользователя Bearer token
* Подключено django_filters для использоваеть API приложения в публичных привычках филтрации по приятным привычкам и по дате начало привычек
</details>

